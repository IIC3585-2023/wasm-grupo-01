<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="./assets/wasum_logo.png" type="image/png" />
    <script defer type="module" src="./app/main.ts"></script>
    <title>WASM</title>
  </head>

  <body class="bg-gray-100">
    <div class="container mx-auto mt-8">
      <div class="mb-2 text-gray-600">
        <h1 class="text-3xl font-bold text-gray-800">
          Comparison of
          <span class="text-yellow-500">JS</span>
          and
          <span class="text-purple-500">WASM</span>
        </h1>
        <h2 class="text-2xl font-semibold">Assign Actions to Cores</h2>
      </div>

      <form id="run-form" class="flex flex-col gap-4">
        <div class="flex gap-1">
          <div>
            <label class="block font-medium pl-1 text-gray-600" for="numCores">Cores</label>
            <input
              class="h-10 w-16 px-3 py-2 leading-tight text-gray-700 border rounded appearance-none focus:outline-none focus:shadow-outline"
              type="number"
              id="numCores"
              min="2"
              name="bins"
              placeholder="3"
              value="5"
              required
            />
          </div>
          <div class="flex-grow">
            <label class="block font-medium pl-1 text-gray-600" for="actionDurations"
              >Duration of actions (coma separated)</label
            >
            <input
              class="h-10 w-full px-3 py-2 leading-tight text-gray-700 border rounded appearance-none focus:outline-none focus:shadow-outline"
              type="text"
              id="actionDurations"
              placeholder="30,50,10,20,90"
              value="9,16,2,23,15,3,2,1,7,5,8,25,13,28,12,3,14,0,9,21,4,0,14,15,27,17,4,10,24,18,0"
              name="durations"
              pattern="^([0-9]+, *)*[0-9]+$"
              required
            />
          </div>
          <div>
            <label class="block font-medium pl-1 text-gray-600" for="iterations">Iterations</label>
            <input
              class="h-10 w-28 px-3 py-2 leading-tight text-gray-700 border rounded appearance-none focus:outline-none focus:shadow-outline"
              type="number"
              id="iterations"
              placeholder="1000"
              value="10000"
              name="iterations"
              pattern="^([0-9]+, *)*[0-9]+$"
              required
            />
          </div>
          <button class="h-10 ml-2 border bg-purple-700 mt-6 rounded px-3 py-2 text-purple-100">Run</button>
        </div>

        <div class="grid grid-cols-[max-content_minmax(900px,_1fr)] gap-4">
          <div class="bg-yellow-500 text-right text-white font-bold py-2 px-4 rounded">Normal JS</div>
          <p id="js-normal"></p>
          <div class="bg-purple-500 text-right text-white font-bold py-2 px-4 rounded">C++ WASM (with emscripten)</div>
          <div id="cpp-emscripten"></div>
          <div class="bg-orange-500 text-right text-white font-bold py-2 px-4 rounded">Rust WASM (with wasm-pack)</div>
          <div id="rust-wasm-pack"></div>
          <div class="bg-blue-500 text-right text-white font-bold py-2 px-4 rounded">AssemblyScript WASM</div>
          <div id="assemblyscript"></div>
          <div class="bg-slate-700 text-right text-white font-bold py-2 px-4 rounded">??????</div>
          <div id="js-optimus"></div>
        </div>
      </form>
    </div>
  </body>
</html>